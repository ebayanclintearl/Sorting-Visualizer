(()=>{"use strict";class e{static comulativeDelay=0;static container={};static delay=0;constructor({index:e,height:r,color:t}){this.index=e,this.height=r,this.color=t,this.#e()}#e(){setTimeout((()=>{e.container.childNodes[this.index].style.height=this.height+"%",e.container.childNodes[this.index].style.transition="height 0.2s ease-in",e.container.childNodes[this.index].style.backgroundColor=this.color}),e.comulativeDelay+=e.delay)}}const r=e,t="#0083ff",i="orange",h="red",s="#3CCF4E",n=document.querySelectorAll(".algo ul li button"),o=document.querySelectorAll("#size-btns button"),a=document.querySelectorAll("#speed-btns button"),l=document.querySelector(".shuffle-btn"),c=()=>{setTimeout((()=>{n.forEach((e=>{e.disabled=!1})),o.forEach((e=>{e.disabled=!1})),a.forEach((e=>{e.disabled=!1})),l.disabled=!1,l.classList.remove("disabled")}),r.comulativeDelay+=r.delay)},d=document.querySelector(".main .container"),g=document.querySelector(".shuffle-btn"),w=document.querySelector(".sort-btn"),u=document.querySelector("#size-btn-title"),x=document.querySelectorAll("#size-btns button"),m=document.querySelector("#speed-btn-title"),f=document.querySelectorAll("#speed-btns button"),b=document.querySelectorAll(".algo ul li button"),y=document.querySelector(".algo.unactive"),p=document.querySelector(".menu-btn"),q=new class{constructor(){this.numbers=[],this.size=0}start(){for(;this.numbers.length<this.size;){let e=Math.floor(Math.random()*this.size)+1;-1===this.numbers.indexOf(e)&&this.numbers.push(e)}}clear(){this.numbers=[]}},E=new class{constructor(){this.randNums=[],this.container={}}start(){for(let e=0;e<this.randNums.length;e++){const r=document.createElement("div");r.style.height=`${this.randNums[e]}%`,this.container.appendChild(r)}}clear(){this.container.innerHTML=""}},S=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){for(let s=0;s<this.arr.length-e-1;s++)new r({index:s,height:this.arr[s],color:i}),new r({index:s+1,height:this.arr[s+1],color:i}),this.arr[s]>this.arr[s+1]&&(new r({index:s,height:this.arr[s],color:h}),new r({index:s+1,height:this.arr[s+1],color:h}),this.#r({firstIndex:s,secondIndex:s+1}),new r({index:s,height:this.arr[s],color:h}),new r({index:s+1,height:this.arr[s+1],color:h})),new r({index:s,height:this.arr[s],color:t});new r({index:this.arr.length-e-1,height:this.arr[this.arr.length-e-1],color:s})}c()}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},v=new class{constructor(){this.type={}}start(){this.isObjEmpty()?alert("Pick a Sorting Algorithm!"):this.type.start()}isObjEmpty(){return 0===Object.keys(this.type).length}},k=new class{constructor(){this.arr=[]}start(){for(let e=1;e<this.arr.length;e++){let t=this.arr[e],n=e-1;for(new r({index:e,height:t,color:i}),new r({index:e,height:t,color:h}),new r({index:n,height:this.arr[n],color:s});n>=0&&this.arr[n]>t;)this.arr[n+1]=this.arr[n],new r({index:n+1,height:this.arr[n+1],color:i}),new r({index:n+1,height:this.arr[n+1],color:s}),n--;this.arr[n+1]=t,new r({index:n+1,height:this.arr[n+1],color:h}),new r({index:n+1,height:this.arr[n+1],color:s})}c()}},L=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){let n=e;new r({index:e,height:this.arr[e],color:h});for(let s=e+1;s<this.arr.length;s++)new r({index:s,height:this.arr[s],color:i}),new r({index:s,height:this.arr[s],color:t}),this.arr[s]<this.arr[n]&&(new r({index:n,height:this.arr[n],color:t}),n=s,new r({index:s,height:this.arr[s],color:h}));n!=e&&(new r({index:e,height:this.arr[e],color:h}),new r({index:n,height:this.arr[n],color:h}),this.#r({firstIndex:e,secondIndex:n}),new r({index:e,height:this.arr[e],color:h}),new r({index:n,height:this.arr[n],color:h}),new r({index:n,height:this.arr[n],color:t})),new r({index:e,height:this.arr[e],color:s})}c()}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},I=new class{constructor(){this.arr=[]}start(){this.#t({qArr:this.arr,qLow:0,qHigh:this.arr.length-1}),c()}#i({arr:e,low:s,high:n}){let o=e[n],a=s-1;new r({index:n,height:this.arr[n],color:i});for(let l=s;l<=n-1;l++)new r({index:l,height:this.arr[l],color:i}),new r({index:l,height:this.arr[l],color:t}),e[l]<o&&(a++,new r({index:a,height:this.arr[a],color:h}),new r({index:l,height:this.arr[l],color:h}),this.#r({firstIndex:a,secondIndex:l}),new r({index:a,height:this.arr[a],color:h}),new r({index:l,height:this.arr[l],color:h}),new r({index:a,height:this.arr[a],color:t}),new r({index:l,height:this.arr[l],color:t}));return new r({index:a+1,height:this.arr[a+1],color:h}),new r({index:n,height:this.arr[n],color:h}),this.#r({firstIndex:a+1,secondIndex:n}),new r({index:a+1,height:this.arr[a+1],color:h}),new r({index:n,height:this.arr[n],color:h}),new r({index:a+1,height:this.arr[a+1],color:t}),new r({index:n,height:this.arr[n],color:t}),a+1}#t({qArr:e,qLow:t,qHigh:i}){if(t<i){let h=this.#i({arr:e,low:t,high:i});new r({index:h,height:this.arr[h],color:s}),new r({index:t,height:this.arr[t],color:s}),new r({index:i,height:this.arr[i],color:s}),this.#t({qArr:e,qLow:t,qHigh:h-1}),this.#t({qArr:e,qLow:h+1,qHigh:i})}}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},A=new class{constructor(){this.arr=[]}start(){this.#h(this.arr,0,this.arr.length-1),c()}#h(e,r,t){if(r<t){let i=Math.floor((r+t)/2);this.#h(e,r,i),this.#h(e,i+1,t),this.#s(e,r,i,t)}}#s(e,t,n,o){let a=n-t+1,l=o-n,c=new Array(a),d=new Array(l);for(let r=0;r<a;r++)c[r]=e[t+r];for(let r=0;r<l;r++)d[r]=e[n+1+r];let g=0,w=0,u=t;for(new r({index:n,height:this.arr[n],color:i});g<a&&w<l;)c[g]<=d[w]?(e[u]=c[g],new r({index:u,height:this.arr[u],color:h}),new r({index:u,height:this.arr[u],color:h}),g++):(e[u]=d[w],new r({index:u,height:this.arr[u],color:h}),new r({index:u,height:this.arr[u],color:h}),w++),new r({index:u,height:this.arr[u],color:h}),new r({index:u,height:this.arr[u],color:s}),u++;for(;g<a;)e[u]=c[g],new r({index:u,height:this.arr[u],color:s}),g++,u++;for(;w<l;)e[u]=d[w],new r({index:u,height:this.arr[u],color:s}),w++,u++}},T=new class{constructor(){this.arr=[]}start(){this.#n(),c()}#n(){var e=this.arr.length;for(let r=Math.floor(e/2)-1;r>=0;r--)this.#o(e,r);for(let t=e-1;t>-1;t--){let e=this.arr[0];this.arr[0]=this.arr[t],this.arr[t]=e,new r({index:t,height:this.arr[t],color:s}),new r({index:t,height:this.arr[t],color:i}),this.#o(t,0),new r({index:t,height:this.arr[t],color:s})}}#o(e,i){let s=i,n=2*i+1,o=2*i+2;if(n<e&&this.arr[n]>this.arr[s]&&(s=n),o<e&&this.arr[o]>this.arr[s]&&(s=o),s!=i){new r({index:i,height:this.arr[i],color:h}),new r({index:s,height:this.arr[s],color:h});let n=this.arr[i];this.arr[i]=this.arr[s],this.arr[s]=n,new r({index:i,height:this.arr[i],color:h}),new r({index:s,height:this.arr[s],color:h}),new r({index:i,height:this.arr[i],color:t}),new r({index:s,height:this.arr[s],color:t}),this.#o(e,s)}}};r.container=d,E.container=d;const z=()=>{q.clear(),q.start(),E.randNums=q.numbers,E.clear(),E.start(),S.arr=q.numbers,k.arr=q.numbers,L.arr=q.numbers,I.arr=q.numbers,A.arr=q.numbers,T.arr=q.numbers,r.comulativeDelay=0};window.onload=(q.size=70,r.delay=1,void z()),g.addEventListener("click",(()=>{z()})),w.addEventListener("click",(()=>{v.start(),r.comulativeDelay=0,v.isObjEmpty()||(n.forEach((e=>{e.disabled=!0})),o.forEach((e=>{e.disabled=!0})),a.forEach((e=>{e.disabled=!0})),l.disabled=!0,l.classList.add("disabled"))})),x.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"small":q.size=30,u.innerText="SIZE: small",z();break;case"medium":q.size=70,u.innerText="SIZE: medium",z();break;case"large":q.size=100,u.innerText="SIZE: large",z();break;default:return}}))})),f.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"slow":r.delay=1e3,m.innerText="SPEED: slow";break;case"moderate":r.delay=50,m.innerText="SPEED: moderate";break;case"fast":r.delay=1,m.innerText="SPEED: fast";break;default:return}}))})),b.forEach((e=>{e.addEventListener("click",(()=>{b.forEach((e=>e.classList.remove("active"))),e.classList.add("active");let r=e.innerText.toLowerCase();"bubble"===r&&(v.type=S),"insertion"===r&&(v.type=k),"selection"===r&&(v.type=L),"merge"===r&&(v.type=A),"quick"===r&&(v.type=I),"heap"===r&&(v.type=T)}))})),p.addEventListener("click",(()=>{p.classList.toggle("active"),y.classList.toggle("active")}))})();