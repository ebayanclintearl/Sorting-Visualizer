(()=>{"use strict";class e{static comulativeDelay=0;static container={};static delay=0;constructor({index:e,height:r,color:t}){this.index=e,this.height=r,this.color=t,this.#e()}#e(){setTimeout((()=>{e.container.childNodes[this.index].style.height=this.height+"%",e.container.childNodes[this.index].style.transition="height 0.2s ease-in",e.container.childNodes[this.index].style.backgroundColor=this.color}),e.comulativeDelay+=e.delay)}}const r=e,t={size:20,step:5},i={size:50,step:2},s={size:100,step:1},h="SIZE: small",n="SIZE: medium",o="SPEED: moderate",a="#0083ff",l="orange",c="red",d="#3CCF4E",g=document.querySelectorAll(".algo ul li button"),u=document.querySelectorAll("#size-btns button"),w=document.querySelectorAll("#speed-btns button"),x=document.querySelector(".sort-btn"),f=document.querySelector(".shuffle-btn"),m=()=>{setTimeout((()=>{g.forEach((e=>{e.disabled=!1})),u.forEach((e=>{e.disabled=!1})),w.forEach((e=>{e.disabled=!1})),x.disabled=!1,f.disabled=!1,f.classList.remove("disabled")}),r.comulativeDelay+=r.delay)},b=document.querySelector(".main .container"),y=document.querySelector(".shuffle-btn"),p=document.querySelector(".sort-btn"),q=document.querySelector("#size-btn-title"),S=document.querySelectorAll("#size-btns button"),E=document.querySelector("#speed-btn-title"),v=document.querySelectorAll("#speed-btns button"),L=document.querySelectorAll(".algo ul li button"),k=document.querySelector(".algo.unactive"),I=document.querySelector(".menu-btn"),A=document.querySelector(".btn"),T=new class{constructor(){this.numbers=[],this.config={}}start(){let e=this.#r(1,this.config.size,this.config.step);this.#t(e),this.numbers=e}#r(e,r,t){return Array(r-e+1).fill().map(((r,i)=>(e+i)*t))}#t(e){for(let r=e.length-1;r>0;r--){const t=Math.floor(Math.random()*(r+1));[e[r],e[t]]=[e[t],e[r]]}}clear(){this.numbers=[]}},D=new class{constructor(){this.randNums=[],this.container={}}start(){for(let e=0;e<this.randNums.length;e++){const r=document.createElement("div");r.style.height=`${this.randNums[e]}%`,this.container.appendChild(r)}}clear(){this.container.innerHTML=""}},z=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){for(let t=0;t<this.arr.length-e-1;t++)new r({index:t,height:this.arr[t],color:l}),new r({index:t+1,height:this.arr[t+1],color:l}),this.arr[t]>this.arr[t+1]&&(new r({index:t,height:this.arr[t],color:c}),new r({index:t+1,height:this.arr[t+1],color:c}),this.#i({firstIndex:t,secondIndex:t+1}),new r({index:t,height:this.arr[t],color:c}),new r({index:t+1,height:this.arr[t+1],color:c})),new r({index:t,height:this.arr[t],color:a});new r({index:this.arr.length-e-1,height:this.arr[this.arr.length-e-1],color:d})}m()}#i({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},C=new class{constructor(){this.type={}}start(){this.isObjEmpty()?alert("Pick a Sorting Algorithm!"):this.type.start()}isObjEmpty(){return 0===Object.keys(this.type).length}},N=new class{constructor(){this.arr=[]}start(){for(let e=1;e<this.arr.length;e++){let t=this.arr[e],i=e-1;for(new r({index:e,height:t,color:l}),new r({index:e,height:t,color:c}),new r({index:i,height:this.arr[i],color:d});i>=0&&this.arr[i]>t;)this.arr[i+1]=this.arr[i],new r({index:i+1,height:this.arr[i+1],color:l}),new r({index:i+1,height:this.arr[i+1],color:d}),i--;this.arr[i+1]=t,new r({index:i+1,height:this.arr[i+1],color:c}),new r({index:i+1,height:this.arr[i+1],color:d})}m()}},H=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){let t=e;new r({index:e,height:this.arr[e],color:c});for(let i=e+1;i<this.arr.length;i++)new r({index:i,height:this.arr[i],color:l}),new r({index:i,height:this.arr[i],color:a}),this.arr[i]<this.arr[t]&&(new r({index:t,height:this.arr[t],color:a}),t=i,new r({index:i,height:this.arr[i],color:c}));t!=e&&(new r({index:e,height:this.arr[e],color:c}),new r({index:t,height:this.arr[t],color:c}),this.#i({firstIndex:e,secondIndex:t}),new r({index:e,height:this.arr[e],color:c}),new r({index:t,height:this.arr[t],color:c}),new r({index:t,height:this.arr[t],color:a})),new r({index:e,height:this.arr[e],color:d})}m()}#i({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},M=new class{constructor(){this.arr=[]}start(){this.#s({qArr:this.arr,qLow:0,qHigh:this.arr.length-1}),m()}#h({arr:e,low:t,high:i}){let s=e[i],h=t-1;new r({index:i,height:this.arr[i],color:l});for(let n=t;n<=i-1;n++)new r({index:n,height:this.arr[n],color:l}),new r({index:n,height:this.arr[n],color:a}),e[n]<s&&(h++,new r({index:h,height:this.arr[h],color:c}),new r({index:n,height:this.arr[n],color:c}),this.#i({firstIndex:h,secondIndex:n}),new r({index:h,height:this.arr[h],color:c}),new r({index:n,height:this.arr[n],color:c}),new r({index:h,height:this.arr[h],color:a}),new r({index:n,height:this.arr[n],color:a}));return new r({index:h+1,height:this.arr[h+1],color:c}),new r({index:i,height:this.arr[i],color:c}),this.#i({firstIndex:h+1,secondIndex:i}),new r({index:h+1,height:this.arr[h+1],color:c}),new r({index:i,height:this.arr[i],color:c}),new r({index:h+1,height:this.arr[h+1],color:a}),new r({index:i,height:this.arr[i],color:a}),h+1}#s({qArr:e,qLow:t,qHigh:i}){if(t<i){let s=this.#h({arr:e,low:t,high:i});new r({index:s,height:this.arr[s],color:d}),new r({index:t,height:this.arr[t],color:d}),new r({index:i,height:this.arr[i],color:d}),this.#s({qArr:e,qLow:t,qHigh:s-1}),this.#s({qArr:e,qLow:s+1,qHigh:i})}}#i({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},j=new class{constructor(){this.arr=[]}start(){this.#n(this.arr,0,this.arr.length-1),m()}#n(e,r,t){if(r<t){let i=Math.floor((r+t)/2);this.#n(e,r,i),this.#n(e,i+1,t),this.#o(e,r,i,t)}}#o(e,t,i,s){let h=i-t+1,n=s-i,o=new Array(h),a=new Array(n);for(let r=0;r<h;r++)o[r]=e[t+r];for(let r=0;r<n;r++)a[r]=e[i+1+r];let g=0,u=0,w=t;for(new r({index:i,height:this.arr[i],color:l});g<h&&u<n;)o[g]<=a[u]?(e[w]=o[g],new r({index:w,height:this.arr[w],color:c}),new r({index:w,height:this.arr[w],color:c}),g++):(e[w]=a[u],new r({index:w,height:this.arr[w],color:c}),new r({index:w,height:this.arr[w],color:c}),u++),new r({index:w,height:this.arr[w],color:c}),new r({index:w,height:this.arr[w],color:d}),w++;for(;g<h;)e[w]=o[g],new r({index:w,height:this.arr[w],color:d}),g++,w++;for(;u<n;)e[w]=a[u],new r({index:w,height:this.arr[w],color:d}),u++,w++}},O=new class{constructor(){this.arr=[]}start(){this.#a(),m()}#a(){var e=this.arr.length;for(let r=Math.floor(e/2)-1;r>=0;r--)this.#l(e,r);for(let t=e-1;t>-1;t--){let e=this.arr[0];this.arr[0]=this.arr[t],this.arr[t]=e,new r({index:t,height:this.arr[t],color:d}),new r({index:t,height:this.arr[t],color:l}),this.#l(t,0),new r({index:t,height:this.arr[t],color:d})}}#l(e,t){let i=t,s=2*t+1,h=2*t+2;if(s<e&&this.arr[s]>this.arr[i]&&(i=s),h<e&&this.arr[h]>this.arr[i]&&(i=h),i!=t){new r({index:t,height:this.arr[t],color:c}),new r({index:i,height:this.arr[i],color:c});let s=this.arr[t];this.arr[t]=this.arr[i],this.arr[i]=s,new r({index:t,height:this.arr[t],color:c}),new r({index:i,height:this.arr[i],color:c}),new r({index:t,height:this.arr[t],color:a}),new r({index:i,height:this.arr[i],color:a}),this.#l(e,i)}}};r.container=b,D.container=b;const P=()=>{T.clear(),T.start(),D.randNums=T.numbers,D.clear(),D.start(),z.arr=T.numbers,N.arr=T.numbers,H.arr=T.numbers,M.arr=T.numbers,j.arr=T.numbers,O.arr=T.numbers,r.comulativeDelay=0};window.onload=(window.innerWidth<1400?(q.innerText=h,E.innerText=o,T.config=t,r.delay=30):(q.innerText=n,E.innerText=o,T.config=i,r.delay=30),void P()),y.addEventListener("click",(()=>{P()})),p.addEventListener("click",(()=>{C.start(),r.comulativeDelay=0,C.isObjEmpty()||(g.forEach((e=>{e.disabled=!0})),u.forEach((e=>{e.disabled=!0})),w.forEach((e=>{e.disabled=!0})),x.disabled=!0,f.disabled=!0,f.classList.add("disabled"))})),S.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"small":T.config=t,q.innerText=h,P();break;case"medium":T.config=i,q.innerText=n,P();break;case"large":T.config=s,q.innerText="SIZE: large",P();break;default:return}}))})),v.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"slow":r.delay=700,E.innerText="SPEED: slow";break;case"moderate":r.delay=30,E.innerText=o;break;case"fast":r.delay=10,E.innerText="SPEED: fast";break;default:return}}))})),L.forEach((e=>{e.addEventListener("click",(()=>{L.forEach((e=>e.classList.remove("active"))),e.classList.add("active");let r=e.innerText.toLowerCase();"bubble"===r&&(C.type=z),"insertion"===r&&(C.type=N),"selection"===r&&(C.type=H),"merge"===r&&(C.type=j),"quick"===r&&(C.type=M),"heap"===r&&(C.type=O),I.classList.toggle("active"),k.classList.toggle("active"),A.classList.toggle("disabled")}))})),I.addEventListener("click",(()=>{I.classList.toggle("active"),k.classList.toggle("active"),A.classList.toggle("disabled")}))})();