(()=>{"use strict";class e{static comulativeDelay=0;static container={};static delay=0;constructor({index:e,height:r,color:t}){this.index=e,this.height=r,this.color=t,this.#e()}#e(){setTimeout((()=>{e.container.childNodes[this.index].style.height=this.height+"%",e.container.childNodes[this.index].style.transition="height 0.2s ease-in",e.container.childNodes[this.index].style.backgroundColor=this.color}),e.comulativeDelay+=e.delay)}}const r=e,t="#0083ff",i="orange",h="red",s="#3CCF4E",n=document.querySelectorAll(".algo ul li button"),o=document.querySelectorAll("#size-btns button"),a=document.querySelectorAll("#speed-btns button"),l=document.querySelector(".sort-btn"),c=document.querySelector(".shuffle-btn"),d=()=>{setTimeout((()=>{n.forEach((e=>{e.disabled=!1})),o.forEach((e=>{e.disabled=!1})),a.forEach((e=>{e.disabled=!1})),l.disabled=!1,c.disabled=!1,c.classList.remove("disabled")}),r.comulativeDelay+=r.delay)},g=document.querySelector(".main .container"),u=document.querySelector(".shuffle-btn"),w=document.querySelector(".sort-btn"),x=document.querySelector("#size-btn-title"),m=document.querySelectorAll("#size-btns button"),b=document.querySelector("#speed-btn-title"),f=document.querySelectorAll("#speed-btns button"),y=document.querySelectorAll(".algo ul li button"),p=document.querySelector(".algo.unactive"),q=document.querySelector(".menu-btn"),E=new class{constructor(){this.numbers=[],this.size=0}start(){for(;this.numbers.length<this.size;){let e=Math.floor(Math.random()*this.size)+1;-1===this.numbers.indexOf(e)&&this.numbers.push(e)}}clear(){this.numbers=[]}},S=new class{constructor(){this.randNums=[],this.container={}}start(){for(let e=0;e<this.randNums.length;e++){const r=document.createElement("div");r.style.height=`${this.randNums[e]}%`,this.container.appendChild(r)}}clear(){this.container.innerHTML=""}},v=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){for(let s=0;s<this.arr.length-e-1;s++)new r({index:s,height:this.arr[s],color:i}),new r({index:s+1,height:this.arr[s+1],color:i}),this.arr[s]>this.arr[s+1]&&(new r({index:s,height:this.arr[s],color:h}),new r({index:s+1,height:this.arr[s+1],color:h}),this.#r({firstIndex:s,secondIndex:s+1}),new r({index:s,height:this.arr[s],color:h}),new r({index:s+1,height:this.arr[s+1],color:h})),new r({index:s,height:this.arr[s],color:t});new r({index:this.arr.length-e-1,height:this.arr[this.arr.length-e-1],color:s})}d()}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},k=new class{constructor(){this.type={}}start(){this.isObjEmpty()?alert("Pick a Sorting Algorithm!"):this.type.start()}isObjEmpty(){return 0===Object.keys(this.type).length}},L=new class{constructor(){this.arr=[]}start(){for(let e=1;e<this.arr.length;e++){let t=this.arr[e],n=e-1;for(new r({index:e,height:t,color:i}),new r({index:e,height:t,color:h}),new r({index:n,height:this.arr[n],color:s});n>=0&&this.arr[n]>t;)this.arr[n+1]=this.arr[n],new r({index:n+1,height:this.arr[n+1],color:i}),new r({index:n+1,height:this.arr[n+1],color:s}),n--;this.arr[n+1]=t,new r({index:n+1,height:this.arr[n+1],color:h}),new r({index:n+1,height:this.arr[n+1],color:s})}d()}},I=new class{constructor(){this.arr=[]}start(){for(let e=0;e<this.arr.length;e++){let n=e;new r({index:e,height:this.arr[e],color:h});for(let s=e+1;s<this.arr.length;s++)new r({index:s,height:this.arr[s],color:i}),new r({index:s,height:this.arr[s],color:t}),this.arr[s]<this.arr[n]&&(new r({index:n,height:this.arr[n],color:t}),n=s,new r({index:s,height:this.arr[s],color:h}));n!=e&&(new r({index:e,height:this.arr[e],color:h}),new r({index:n,height:this.arr[n],color:h}),this.#r({firstIndex:e,secondIndex:n}),new r({index:e,height:this.arr[e],color:h}),new r({index:n,height:this.arr[n],color:h}),new r({index:n,height:this.arr[n],color:t})),new r({index:e,height:this.arr[e],color:s})}d()}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},A=new class{constructor(){this.arr=[]}start(){this.#t({qArr:this.arr,qLow:0,qHigh:this.arr.length-1}),d()}#i({arr:e,low:s,high:n}){let o=e[n],a=s-1;new r({index:n,height:this.arr[n],color:i});for(let l=s;l<=n-1;l++)new r({index:l,height:this.arr[l],color:i}),new r({index:l,height:this.arr[l],color:t}),e[l]<o&&(a++,new r({index:a,height:this.arr[a],color:h}),new r({index:l,height:this.arr[l],color:h}),this.#r({firstIndex:a,secondIndex:l}),new r({index:a,height:this.arr[a],color:h}),new r({index:l,height:this.arr[l],color:h}),new r({index:a,height:this.arr[a],color:t}),new r({index:l,height:this.arr[l],color:t}));return new r({index:a+1,height:this.arr[a+1],color:h}),new r({index:n,height:this.arr[n],color:h}),this.#r({firstIndex:a+1,secondIndex:n}),new r({index:a+1,height:this.arr[a+1],color:h}),new r({index:n,height:this.arr[n],color:h}),new r({index:a+1,height:this.arr[a+1],color:t}),new r({index:n,height:this.arr[n],color:t}),a+1}#t({qArr:e,qLow:t,qHigh:i}){if(t<i){let h=this.#i({arr:e,low:t,high:i});new r({index:h,height:this.arr[h],color:s}),new r({index:t,height:this.arr[t],color:s}),new r({index:i,height:this.arr[i],color:s}),this.#t({qArr:e,qLow:t,qHigh:h-1}),this.#t({qArr:e,qLow:h+1,qHigh:i})}}#r({firstIndex:e,secondIndex:r}){let t=this.arr[e];this.arr[e]=this.arr[r],this.arr[r]=t}},T=new class{constructor(){this.arr=[]}start(){this.#h(this.arr,0,this.arr.length-1),d()}#h(e,r,t){if(r<t){let i=Math.floor((r+t)/2);this.#h(e,r,i),this.#h(e,i+1,t),this.#s(e,r,i,t)}}#s(e,t,n,o){let a=n-t+1,l=o-n,c=new Array(a),d=new Array(l);for(let r=0;r<a;r++)c[r]=e[t+r];for(let r=0;r<l;r++)d[r]=e[n+1+r];let g=0,u=0,w=t;for(new r({index:n,height:this.arr[n],color:i});g<a&&u<l;)c[g]<=d[u]?(e[w]=c[g],new r({index:w,height:this.arr[w],color:h}),new r({index:w,height:this.arr[w],color:h}),g++):(e[w]=d[u],new r({index:w,height:this.arr[w],color:h}),new r({index:w,height:this.arr[w],color:h}),u++),new r({index:w,height:this.arr[w],color:h}),new r({index:w,height:this.arr[w],color:s}),w++;for(;g<a;)e[w]=c[g],new r({index:w,height:this.arr[w],color:s}),g++,w++;for(;u<l;)e[w]=d[u],new r({index:w,height:this.arr[w],color:s}),u++,w++}},z=new class{constructor(){this.arr=[]}start(){this.#n(),d()}#n(){var e=this.arr.length;for(let r=Math.floor(e/2)-1;r>=0;r--)this.#o(e,r);for(let t=e-1;t>-1;t--){let e=this.arr[0];this.arr[0]=this.arr[t],this.arr[t]=e,new r({index:t,height:this.arr[t],color:s}),new r({index:t,height:this.arr[t],color:i}),this.#o(t,0),new r({index:t,height:this.arr[t],color:s})}}#o(e,i){let s=i,n=2*i+1,o=2*i+2;if(n<e&&this.arr[n]>this.arr[s]&&(s=n),o<e&&this.arr[o]>this.arr[s]&&(s=o),s!=i){new r({index:i,height:this.arr[i],color:h}),new r({index:s,height:this.arr[s],color:h});let n=this.arr[i];this.arr[i]=this.arr[s],this.arr[s]=n,new r({index:i,height:this.arr[i],color:h}),new r({index:s,height:this.arr[s],color:h}),new r({index:i,height:this.arr[i],color:t}),new r({index:s,height:this.arr[s],color:t}),this.#o(e,s)}}};r.container=g,S.container=g;const D=()=>{E.clear(),E.start(),S.randNums=E.numbers,S.clear(),S.start(),v.arr=E.numbers,L.arr=E.numbers,I.arr=E.numbers,A.arr=E.numbers,T.arr=E.numbers,z.arr=E.numbers,r.comulativeDelay=0};window.onload=(E.size=70,r.delay=1,void D()),u.addEventListener("click",(()=>{D()})),w.addEventListener("click",(()=>{k.start(),r.comulativeDelay=0,k.isObjEmpty()||(n.forEach((e=>{e.disabled=!0})),o.forEach((e=>{e.disabled=!0})),a.forEach((e=>{e.disabled=!0})),l.disabled=!0,c.disabled=!0,c.classList.add("disabled"))})),m.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"small":E.size=30,x.innerText="SIZE: small",D();break;case"medium":E.size=70,x.innerText="SIZE: medium",D();break;case"large":E.size=100,x.innerText="SIZE: large",D();break;default:return}}))})),f.forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.innerText.toLowerCase()){case"slow":r.delay=1e3,b.innerText="SPEED: slow";break;case"moderate":r.delay=50,b.innerText="SPEED: moderate";break;case"fast":r.delay=1,b.innerText="SPEED: fast";break;default:return}}))})),y.forEach((e=>{e.addEventListener("click",(()=>{y.forEach((e=>e.classList.remove("active"))),e.classList.add("active");let r=e.innerText.toLowerCase();"bubble"===r&&(k.type=v),"insertion"===r&&(k.type=L),"selection"===r&&(k.type=I),"merge"===r&&(k.type=T),"quick"===r&&(k.type=A),"heap"===r&&(k.type=z)}))})),q.addEventListener("click",(()=>{q.classList.toggle("active"),p.classList.toggle("active")}))})();